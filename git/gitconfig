[core]
  excludesfile = ~/.gitignore_global
  editor = nvim

[include]
  path = ~/.gitconfig.local
  # use separate file for username / github token / etc

[alias]
  s = status --branch --short
  st = status
  ci = commit
  cm = commit -m
  cp = cherry-pick
  df = diff
  patch = add --patch
  unstage = reset HEAD --
  unstage-patch = reset HEAD --patch
  follow = log --follow -p

  # James Brown version control!
  up = push
  down = pull

  # Branch related aliases
  br = branch
  cd = checkout
  co = checkout
  com = checkout master
  cod = checkout develop

  # Syncing related aliases
  pur = pull --rebase
  prune = fetch --prune

  # Rebase related aliases
  ri = rebase -i
  rb = "!sh -c \"git rebase -i HEAD~$1\" -"
  rc = rebase --continue
  ra = rebase --abort
  rs = rebase --skip
  rod = rebase origin/develop
  rom = rebase origin/master

  # Stash related aliases
  poop = stash pop
  wip = commit -m "WIP" -n

  # Push related aliases
  pom = push origin master
  pod = push origin develop
  force = push --force-with-lease

  # Mistake related aliases
  abort = checkout -- .
  nope = checkout -- .
  wait = reset HEAD
  # Undo the last commit, but preserve the staging area
  undo = reset --soft HEAD^
  # Sneak changes into your previous commit
  amend = commit --amend --no-edit
  sneak = commit -a --amend --no-edit

  # Log related aliases
  lg = log --pretty=oneline --abbrev-commit --graph --decorate
  # See everything everyone has done recently
  overview = log --all --oneline --no-merges
  # See today’s work
  today = log --since=\"00:00:00\" --all --no-merges --oneline --author=mikeschenkel@gmail.com
  # Show detailed logs
  graph = log --graph --decorate --stat --date=iso --all
  # See everything I have done recently
  recap = log --oneline --no-merges --author=mikeschenkel@gmail.com
  # Show very last commit
  last = log --oneline -1
  # Show number of commits from all authors.
  stats = shortlog -sn --all --no-merges
  # changelog style
  changelog = "!sh -c \"git log --oneline --no-merges $1..HEAD\" -"

  # Empty line between results from different files.
  find = "!git grep --break -C1"
  # See which commits are on your local branch that aren’t on the remote
  local = "! git log --oneline --no-merges origin/$(git rev-parse --abbrev-ref HEAD).."
  # See which commits are on the remote that aren’t on your local branch
  upstream = "! git fetch && git log --oneline --no-merges ..origin/$(git rev-parse --abbrev-ref HEAD)"
  # Nicer diffs for prose
  wdiff = diff --word-diff
  # Make it possible to diff minified code (eww…)
  mindiff = diff -w --word-diff-regex=. --color-words -U0

[log]
  # Better date formats in logs
  date = rfc

[http]
	sslBackend = openssl

[help]
  autocorrect = 1
  # correct typos

[color]
  ui = always

[pager]
  diff = diff-so-fancy | less --tabs=1,5 -RFX
  show = diff-so-fancy | less --tabs=1,5 -RFX

[color "diff"]
  meta = yellow bold
  commit = green bold
  frag = magenta bold
  old = red bold
  new = green bold
  whitespace = red reverse
  newMoved = cyan
  oldMoved = blue

[color "diff-highlight"]
  oldNormal = red bold
  oldHighlight = "red bold 52"
  newNormal = "green bold"
  newHighlight = "green bold 22"

[color "branch"]
  current = yellow reverse
  local = yellow
  remote = green

[color "status"]
  added = yellow
  changed = green
  untracked = cyan

[merge]
  tool = opendiff

[status]
  showUntrackedFiles = all
  # Sometimes a newly-added folder, since it's only one line in git status, can slip under the radar.
  # https://git-scm.com/docs/git-config#git-config-statusshowUntrackedFiles

#[commit]
  # template = ~/.git-commit-template
  # gpgSign = true
  # "other people can trust that the changes you've made really were made by you"
  # https://help.github.com/articles/about-gpg/
  # https://git-scm.com/docs/git-config#git-config-commitgpgSign

[push]
  default = simple
  # "push the current branch back to the branch whose changes are usually integrated into the current branch"
  # "refuse to push if the upstream branch’s name is different from the local one"
  # https://git-scm.com/docs/git-config#git-config-pushdefault

  followTags = true
  # Because I get sick of telling git to do it manually
  # https://git-scm.com/docs/git-config#git-config-pushfollowTags

[fetch]
  prune = true

[diff]
  compactionHeuristic = true

[transfer]
  fsckobjects = true
  # To combat repository corruption!
  # Note: this global option applies during receive and transmit
  # https://git-scm.com/docs/git-config#git-config-transferfsckObjects
  # via https://groups.google.com/forum/#!topic/binary-transparency/f-BI4o8HZW0

[filter "lfs"]
  clean = git-lfs clean %f
  smudge = git-lfs smudge %f
  required = true

# rewrites of repo paths
[url "git@github.com:"]
  insteadOf = "https://github.com/"
  pushInsteadOf = "github:"
  pushInsteadOf = "git://github.com/"
  pushInsteadOf = "https://github.com/"

[url "git://github.com/"]
  insteadOf = "github:"

[url "git@gist.github.com:"]
  pushInsteadOf = "gist:"
  pushInsteadOf = "git://gist.github.com/"

[url "git://gist.github.com/"]
  insteadOf = "gist:"
